<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chat | RayGrow Bridge</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { background:#f6f7fb; }
    .app-shell{ max-width:1200px; }
    .soft-card{ border:1px solid rgba(0,0,0,.06); box-shadow:0 1px 0 rgba(0,0,0,.02); border-radius:16px; }
    .pill{ border-radius:999px; }
    .brand-badge{
      width:34px;height:34px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;
      background:#eaf2ff;color:#1c5cff;font-weight:700;
    }
    .muted{ color:#6c757d; }

    /* Sidebar */
    .sidebar{ height: calc(100vh - 86px); }
    .chat-list{ overflow:auto; height: calc(100% - 128px); }
    .chat-item{ border-radius:14px; }
    .chat-item:hover{ background:#f2f5ff; }
    .chat-item.active{ background:#eaf2ff; border:1px solid #d7e6ff; }
    .avatar{
      width:38px;height:38px;border-radius:12px;display:flex;align-items:center;justify-content:center;
      background:#f1f3f5;font-weight:700;color:#495057; flex:0 0 auto;
    }
    .badge-dot{
      width:9px;height:9px;border-radius:50%;display:inline-block;background:#22c55e;
      border:2px solid #fff; position:absolute; bottom:-2px; right:-2px;
    }

    /* Chat panel */
    .chat-panel{ height: calc(100vh - 86px); display:flex; flex-direction:column; }
    .chat-header{ position:sticky; top:0; z-index:5; background:#fff; border-bottom:1px solid rgba(0,0,0,.06); border-radius:16px 16px 0 0; }
    .chat-body{ flex:1; overflow:auto; padding:18px; background: linear-gradient(180deg,#ffffff 0%, #fbfbfe 100%); }
    .chat-footer{ border-top:1px solid rgba(0,0,0,.06); background:#fff; border-radius:0 0 16px 16px; }

    /* Bubbles */
    .bubble{
      max-width: 72%;
      padding:10px 12px;
      border-radius:14px;
      line-height:1.25rem;
      border:1px solid rgba(0,0,0,.06);
      box-shadow:0 1px 0 rgba(0,0,0,.01);
    }
    .bubble.me{ margin-left:auto; background:#e7f1ff; }
    .bubble.them{ background:#f3f4f6; }
    .msg-meta{ font-size:.75rem; color:#6c757d; margin-top:4px; }
    .day-sep{
      display:flex; align-items:center; gap:10px; margin:16px 0;
      color:#6c757d; font-size:.8rem;
    }
    .day-sep::before,.day-sep::after{
      content:""; flex:1; height:1px; background:rgba(0,0,0,.08);
    }

    /* Empty state */
    .empty-wrap{ height:100%; display:flex; align-items:center; justify-content:center; padding:24px; text-align:center; }
    .empty-hero{
      max-width:420px; background:#fff; border:1px dashed rgba(0,0,0,.15);
      border-radius:16px; padding:22px;
    }
  </style>
</head>

<body>

  <!-- Top Nav -->
  <nav class="navbar bg-white border-bottom">
    <div class="container app-shell">
      <div class="d-flex align-items-center gap-2">
        <span class="brand-badge">RG</span>
        <div class="lh-sm">
          <div class="fw-semibold">RayGrow Bridge</div>
          <div class="small muted">Sat, Jan 03, 06:30 PM</div>
        </div>
      </div>

      <ul class="nav nav-pills gap-1">
        <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Profiles</a></li>
        <li class="nav-item"><a class="nav-link active" href="#">Chat</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Social</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Services</a></li>
      </ul>

      <div class="d-flex align-items-center gap-2">
        <div class="text-end">
          <div class="small muted">Logged in</div>
          <div class="fw-semibold small">iamrampal</div>
        </div>
        <div class="rounded-circle bg-light border d-flex align-items-center justify-content-center"
             style="width:34px;height:34px;">I</div>
        <button class="btn btn-outline-secondary btn-sm pill">Logout</button>
      </div>
    </div>
  </nav>

  <main class="container app-shell py-3">
    <div class="row g-3">

      <!-- LEFT SIDEBAR -->
      <div class="col-lg-4">
        <div class="soft-card bg-white p-3 sidebar d-flex flex-column">

          <!-- Header -->
          <div class="d-flex align-items-center justify-content-between mb-2">
            <div>
              <div class="fw-semibold">Chats</div>
              <div class="small muted">Direct + Broadcasts</div>
            </div>
            <button class="btn btn-outline-primary btn-sm pill" title="New chat">
              + New
            </button>
          </div>

          <!-- Search -->
          <div class="input-group mb-2">
            <span class="input-group-text bg-white">üîé</span>
            <input class="form-control" placeholder="Search chats‚Ä¶">
          </div>

          <!-- Tabs -->
          <ul class="nav nav-pills gap-2 mb-2">
            <li class="nav-item">
              <button class="nav-link active pill" id="tabDirect" type="button">Direct</button>
            </li>
            <li class="nav-item">
              <button class="nav-link pill" id="tabBroadcast" type="button">Broadcasts</button>
            </li>
          </ul>

          <!-- Lists -->
          <div class="chat-list" id="listDirect">
            <!-- Item -->
            <div class="p-2 chat-item active d-flex gap-2 align-items-center" role="button" onclick="openChat('James')">
              <div class="position-relative">
                <div class="avatar">J</div>
                <span class="badge-dot"></span>
              </div>
              <div class="flex-grow-1">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="fw-semibold">James</div>
                  <div class="small muted">07:21</div>
                </div>
                <div class="small text-secondary text-truncate">Inquiry about your services</div>
              </div>
              <span class="badge text-bg-primary rounded-pill">4</span>
            </div>

            <div class="p-2 chat-item d-flex gap-2 align-items-center" role="button" onclick="openChat('james123')">
              <div class="avatar">J</div>
              <div class="flex-grow-1">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="fw-semibold">james123</div>
                  <div class="small muted">Yesterday</div>
                </div>
                <div class="small text-secondary text-truncate">hi</div>
              </div>
              <span class="badge text-bg-light border rounded-pill text-dark">1</span>
            </div>

            <div class="p-2 chat-item d-flex gap-2 align-items-center" role="button" onclick="openChat('first')">
              <div class="avatar">F</div>
              <div class="flex-grow-1">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="fw-semibold">first</div>
                  <div class="small muted">Mon</div>
                </div>
                <div class="small text-secondary text-truncate">Shared a CV link</div>
              </div>
              <span class="badge text-bg-light border rounded-pill text-dark">2</span>
            </div>
          </div>

          <div class="chat-list d-none" id="listBroadcast">
            <div class="p-2 mb-2 small muted">My subscribed broadcasts</div>

            <div class="p-2 chat-item d-flex gap-2 align-items-start" role="button">
              <div class="avatar">F</div>
              <div class="flex-grow-1">
                <div class="fw-semibold">Finance by Admin</div>
                <div class="small text-secondary">3 messages ‚Ä¢ last: 2h ago</div>
                <div class="mt-2 d-flex gap-2">
                  <button class="btn btn-outline-primary btn-sm pill">Open</button>
                  <button class="btn btn-outline-danger btn-sm pill">Unsubscribe</button>
                </div>
              </div>
            </div>

            <div class="p-2 mt-3 small muted">My broadcasts</div>
            <div class="p-3 border rounded-4 small muted bg-light">
              No broadcasts created yet.
            </div>
          </div>

        </div>
      </div>

      <!-- RIGHT CHAT PANEL -->
      <div class="col-lg-8">
        <div class="soft-card bg-white chat-panel">

          <!-- Header -->
          <div class="chat-header p-3">
            <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
              <div class="d-flex align-items-center gap-2">
                <div class="avatar" id="chatAvatar">J</div>
                <div>
                  <div class="fw-semibold" id="chatTitle">Select a chat</div>
                  <div class="small muted" id="chatSubtitle">Choose a chat from the left to start messaging.</div>
                </div>
              </div>
              <div class="d-flex gap-2">
                <button class="btn btn-outline-secondary btn-sm pill" id="btnDelete" disabled>Delete</button>
                <button class="btn btn-outline-primary btn-sm pill" id="btnReply" disabled>Quick Reply</button>
              </div>
            </div>
          </div>

          <!-- Body -->
          <div class="chat-body" id="chatBody">

            <!-- EMPTY STATE -->
            <div class="empty-wrap" id="emptyState">
              <div class="empty-hero">
                <div class="display-6">üí¨</div>
                <div class="fw-semibold mt-2">No chat selected</div>
                <div class="small muted mt-1">
                  Pick a conversation from the left, or create a new chat.
                </div>
                <button class="btn btn-primary pill mt-3" type="button">+ New chat</button>
              </div>
            </div>

            <!-- CONVERSATION (hidden until open) -->
            <div id="conversation" class="d-none">
              <div class="day-sep">Today</div>

              <div class="mb-3">
                <div class="bubble them">
                  hi
                </div>
                <div class="msg-meta">James ‚Ä¢ 2026-01-02 07:21</div>
              </div>

              <div class="mb-3">
                <div class="bubble me">
                  Inquiry about your services
                </div>
                <div class="msg-meta text-end">iamrampal ‚Ä¢ 2026-01-02 16:40</div>
              </div>

              <div class="mb-3">
                <div class="bubble me">
                  Inquiry about your services
                </div>
                <div class="msg-meta text-end">iamrampal ‚Ä¢ 2026-01-02 16:40</div>
              </div>

              <div class="mb-3">
                <div class="bubble me">
                  Inquiry about your services
                </div>
                <div class="msg-meta text-end">iamrampal ‚Ä¢ 2026-01-02 16:42</div>
              </div>

            </div>

          </div>

          <!-- Footer (composer) -->
          <div class="chat-footer p-3">
            <div class="d-flex gap-2 align-items-end">
              <button class="btn btn-outline-secondary pill" id="btnEmoji" disabled title="Emoji">üòä</button>
              <button class="btn btn-outline-secondary pill" id="btnAttach" disabled title="Attach">üìé</button>

              <div class="flex-grow-1">
                <textarea class="form-control" id="messageInput" rows="2"
                          placeholder="Select a chat to start messaging‚Ä¶" disabled></textarea>
                <div class="small muted mt-2" id="hintRow">Tip: Use Quick Reply for faster responses.</div>
              </div>

              <button class="btn btn-primary pill px-4" id="btnSend" disabled>Send</button>
            </div>

            <!-- Optional emoji row -->
            <div class="mt-2 d-none" id="emojiRow">
              <div class="small muted mb-1">Top emojis</div>
              <div class="d-flex gap-2 flex-wrap">
                <button class="btn btn-light border pill btn-sm" onclick="addEmoji('üôÇ')">üôÇ</button>
                <button class="btn btn-light border pill btn-sm" onclick="addEmoji('üòÇ')">üòÇ</button>
                <button class="btn btn-light border pill btn-sm" onclick="addEmoji('‚ù§Ô∏è')">‚ù§Ô∏è</button>
                <button class="btn btn-light border pill btn-sm" onclick="addEmoji('üëç')">üëç</button>
                <button class="btn btn-light border pill btn-sm" onclick="addEmoji('üéâ')">üéâ</button>
              </div>
            </div>

          </div>

        </div>
      </div>

    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Tabs in sidebar
    const tabDirect = document.getElementById("tabDirect");
    const tabBroadcast = document.getElementById("tabBroadcast");
    const listDirect = document.getElementById("listDirect");
    const listBroadcast = document.getElementById("listBroadcast");

    tabDirect.addEventListener("click", () => {
      tabDirect.classList.add("active");
      tabBroadcast.classList.remove("active");
      listDirect.classList.remove("d-none");
      listBroadcast.classList.add("d-none");
    });

    tabBroadcast.addEventListener("click", () => {
      tabBroadcast.classList.add("active");
      tabDirect.classList.remove("active");
      listBroadcast.classList.remove("d-none");
      listDirect.classList.add("d-none");
    });

    // Chat open state
    const emptyState = document.getElementById("emptyState");
    const conversation = document.getElementById("conversation");
    const chatTitle = document.getElementById("chatTitle");
    const chatSubtitle = document.getElementById("chatSubtitle");
    const chatAvatar = document.getElementById("chatAvatar");

    const btnDelete = document.getElementById("btnDelete");
    const btnReply = document.getElementById("btnReply");
    const btnEmoji = document.getElementById("btnEmoji");
    const btnAttach = document.getElementById("btnAttach");
    const btnSend = document.getElementById("btnSend");
    const messageInput = document.getElementById("messageInput");

    function openChat(name) {
      // Update header
      chatTitle.textContent = name;
      chatSubtitle.textContent = "Direct chat";
      chatAvatar.textContent = (name || "?").slice(0,1).toUpperCase();

      // Enable actions
      [btnDelete, btnReply, btnEmoji, btnAttach, btnSend, messageInput].forEach(el => el.disabled = false);
      messageInput.placeholder = "Type a message‚Ä¶";

      // Show conversation
      emptyState.classList.add("d-none");
      conversation.classList.remove("d-none");
    }

    // Emoji toggle
    const emojiRow = document.getElementById("emojiRow");
    btnEmoji.addEventListener("click", () => {
      emojiRow.classList.toggle("d-none");
    });

    function addEmoji(e) {
      messageInput.value += e;
      messageInput.focus();
    }

    // Send demo
    const chatBody = document.getElementById("chatBody");
    btnSend.addEventListener("click", () => {
      const text = messageInput.value.trim();
      if (!text) return;

      const wrap = document.createElement("div");
      wrap.className = "mb-3";
      wrap.innerHTML = `
        <div class="bubble me"></div>
        <div class="msg-meta text-end">iamrampal ‚Ä¢ just now</div>
      `;
      wrap.querySelector(".bubble").textContent = text;

      conversation.appendChild(wrap);
      messageInput.value = "";
      chatBody.scrollTop = chatBody.scrollHeight;
    });
  </script>

</body>
</html>

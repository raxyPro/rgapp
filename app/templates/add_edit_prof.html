{% extends "layout.html" %}
{% block content %}

<style>
    .form-label {
        display: block;
        text-align: left;
        margin-bottom: 0.25rem;
        font-weight: 500;
        color: #374151;
    }
    .form-input {
        width: 100%;
        padding: 0.5rem 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        margin-bottom: 1rem;
        box-sizing: border-box;
    }
    .btn {
        padding: 10px;
        margin-top: 10px;
    }
</style>

<h2>{{ PageAction }}</h2>
<form method="post" action="{% if PageAction == 'Edit Profile' %}/edit_prof{% else %}/add_prof{% endif %}">
    <div class="mb-4">
        <label for="pf_name" class="form-label">Name</label>
        <input type="text" id="pf_name" name="pf_name" value="{{ profile.pf_name|default('') }}" class="form-input" required>
    </div>
    <div class="mb-4">
        <label for="pf_email" class="form-label">Email</label>
        <input type="email" id="pf_email" name="pf_email" value="{{ profile.pf_email|default('') }}" class="form-input" required>
    </div>
    <div class="mb-4">
        <label for="pf_title" class="form-label">Title</label>
        <input type="text" id="pf_title" name="pf_title" value="{{ profile.pf_title|default('') }}" class="form-input">
    </div>
    <div class="mb-4">
        <label for="pf_company" class="form-label">Company</label>
        <input type="text" id="pf_company" name="pf_company" value="{{ profile.pf_company|default('') }}" class="form-input">
    </div>
    <div class="mb-4">
        <label for="pf_mobile" class="form-label">Mobile</label>
        <input type="text" id="pf_mobile" name="pf_mobile" value="{{ profile.pf_mobile|default('') }}" class="form-input">
    </div>
    <div class="mb-4">
        <label for="pf_email2" class="form-label">Alternate Email</label>
        <input type="email" id="pf_email2" name="pf_email2" value="{{ profile.pf_email2|default('') }}" class="form-input">
    </div>
    <div class="mb-4">
        <label for="pf_skill1" class="form-label">Top Skill 1</label>
        <input type="text" id="pf_skill1" name="pf_skill1" value="{{ profile.pf_skill1|default('') }}" class="form-input">
    </div>
    <div class="mb-4">
        <label for="pf_skill2" class="form-label">Top Skill 2</label>
        <input type="text" id="pf_skill2" name="pf_skill2" value="{{ profile.pf_skill2|default('') }}" class="form-input">
    </div>
    <div class="mb-4">
        <label for="pf_skill3" class="form-label">Top Skill 3</label>
        <input type="text" id="pf_skill3" name="pf_skill3" value="{{ profile.pf_skill3|default('') }}" class="form-input">
    </div>
    <div class="mb-4">
        <label for="pf_service1" class="form-label">Top Service 1</label>
        <input type="text" id="pf_service1" name="pf_service1" value="{{ profile.pf_service1|default('') }}" class="form-input">
    </div>
    <div class="mb-4">
        <label for="pf_service2" class="form-label">Top Service 2</label>
        <input type="text" id="pf_service2" name="pf_service2" value="{{ profile.pf_service2|default('') }}" class="form-input">
    </div>
    <div class="mb-4">
        <label for="pf_service3" class="form-label">Top Service 3</label>
        <input type="text" id="pf_service3" name="pf_service3" value="{{ profile.pf_service3|default('') }}" class="form-input">
    </div>
    <div class="flex flex-wrap gap-2 mt-4">
        <button type="submit"
            class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300">
            Save
        </button>
        <a href="/view"
            class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition duration-300">
            View Rendered CV
        </a>
        <a href="/preview"
            class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition duration-300">
            Preview CV
        </a>
    </div>
</form>
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, msg in messages %}
<p class="{{ 'text-red-600' if category == 'error' else 'text-green-600' }}">{{ msg }}</p>
{% endfor %}
{% endif %}
{% endwith %}
{% endblock %}